# GXVIS 要件定義書（全文・人間用）

## 1. 前提（受け入れられないなら中止すべき条件）

- 本システムは **自動投稿をしない**（MVPでは必ず人間が最終判断する）
- 本システムは **公開情報のみを扱う**（非公開コミュニティ、DM等は対象外）
- 本システムは **動画のダウンロード保存をしない**（URL参照が基本）
- 本システムの成果物（投稿文）は「正解」ではない
  - 正解は、収集し保存した構造化データのみに置く
- 0〜3日以内の最新性を原則とし、それ以外は原則処理しない
- 生成は日本語に限定する
- "良かれと思った現場判断"を事故原因として扱うため、ルール外の運用は許可しない

---

## 2. 背景と課題（従来手法がなぜ壊れたか）

暗号通貨／ミームコイン領域は、世界中で同時多発的に話題が生まれ、情報の鮮度が価値を持つ。

しかし従来の人力運用は、以下の理由で破綻しやすい：

- 情報源が散らばる（X / ニュース / YouTube）
- 多言語・時差で追い切れない
- バズ投稿の「勝ちパターン」が属人化し再現性が落ちる
- 急ぎ投稿ほど、誇大・未確認・詐欺臭の混入で信用毀損が起きやすい

---

## 3. 本システムの本当の目的

1. 世界中の公開情報から、暗号通貨／ミームコイン関連の"バズ兆候"を拾い上げる
2. バズ投稿の構造（フック・感情・CTA）を分解し、勝ちパターンとして残す
3. その分解結果を使い、**テンプレ駆動で X向け投稿案（日本語）を継続生成する**
4. ただし、投稿するかどうかは必ず**人間が最終判断する**（半自動運用）

---

## 4. 従来との決定的な違い

- 「良い投稿を作る」よりも先に、**"勝手な判断が起きない状態"**を作る
- 出力文章（投稿文）を正解にしない
  - 正解は「収集されたデータ」と「保存された構造化結果」にのみ置く
- 人間の役割は、**編集と最終判断に限定される**
  - スコアや解析結果の恣意的な書き換えは、許可されない

---

## 5. 作業フロー（人間の役割を明示）

1. **監視対象の設定**（キーワード、フィード等を登録）
2. 定期実行により最新情報を収集する
3. バズ兆候候補が抽出される
4. 候補の構造解析と、投稿案の自動生成が行われる
5. **人間がレビュー画面で、以下のみを行う**
   - 投稿文の修正（必要なら）
   - 却下する／投稿済みにする（承認も含む）
   - 却下理由や注意点を記録する
6. 判断ログが残り、後から検証できる

---

## 6. 成果物の定義

### 成果物（システムが提供するもの）

- 収集されたコンテンツの一覧（公開情報）
- バズ候補として抽出された候補リスト（スコアと理由付き）
- 構造解析結果（フック種別、感情トリガー、CTA種別、リスク）
- テンプレ駆動で生成された投稿案（日本語、CTA必須）
- 人間の判断ログ（修正内容、却下理由、投稿済み登録など）

### 成果物ではないもの（期待してはいけないもの）

- 「自動で正解投稿を作る」こと
- 「真偽を自動で保証する」こと
- 「自動で投稿して成果を出す」こと

---

## 7. 非機能要件（再現性・説明責任・検証可能性）

| 要件 | 説明 |
|------|------|
| 再現性 | 同じ入力データに対して処理結果が安定していること（処理条件が記録されること） |
| 説明責任 | なぜ候補になったのか、なぜこのテンプレが選ばれたのか、が後から追えること |
| 検証可能性 | いつ何を収集し、誰がどう判断したかが追跡できること |
| 監査性 | 編集と決定がログとして残り、消えないこと（少なくとも運用上の証跡として保持） |

---

## 8. ターゲット（ペルソナ）

### ペルソナA：SNSオペレーター
- **目的**: 拡散される投稿を継続投稿、フォロワー増、コミュニティ活性
- **スキル**: ツール運用は可能、開発は不可

### ペルソナB：編集者（リスク管理含む）
- **目的**: 煽り・断定を抑え、事実の粒度を担保して投稿判断

### ペルソナC：管理者
- **目的**: ソース設定、ジョブ稼働、APIキー管理、運用監視

---

## 9. ユースケース（アクター別）

### Operator（投稿担当）
- DraftPost一覧の閲覧、フィルタ（スコア/媒体/テンプレ/リスク）
- DraftPostの編集、コピペ投稿、投稿済み登録、却下

### Editor（レビュー担当）
- risk_flags を見て修正方針判断
- 根拠（sources/元投稿/元記事）リンクを確認
- 却下理由（ログ）入力

### Admin（管理者）
- Sourceの追加/編集/無効化（Xクエリ、RSS、YouTube検索）
- Jobの手動実行・履歴確認（JobRun）
- テンプレ30種の管理（閲覧・差し替え）
- 設定（0〜3日→0〜2日等の期間切替、閾値、LLMプロバイダ）

---

## 10. ペインマップ（Target × Pain × Gain）

| Target（誰） | Pain（悩み） | Gain（GXVISで解決） |
|-------------|-------------|-------------------|
| SNS運用者（投稿担当） | ネタ探しに時間が溶ける / バズの再現性が低い | 0〜3日以内の"波"だけに絞って候補提示＋テンプレ駆動で安定生成 |
| リサーチャー | 多言語・複数媒体の追跡がしんどい / 見落とし | X/News/YouTubeを正規化し、重要度順に一画面で追える |
| 編集者（レビュー担当） | 生成文が煽りすぎ・根拠弱い / どこが危険か不明 | risk_flags/根拠メタ情報/テンプレ種別を付与し判断が速い |
| 責任者（ブランド/法務寄り） | 誤情報・詐欺拡散・規約違反が怖い | 「保存しない（動画DL禁止）」運用ポリシー＋リスク検知＋監査ログ |
| 開発/運用（技術） | パイプラインが複雑で保守不能になりがち | 正規化フォーマット＋段階分割ジョブ（将来Pub/Sub）で拡張容易 |

---

## 11. KGI / KPI

### KGI（最終ゴール）
「世界中のバズ投稿の勝ちパターン」を継続抽出し、Xで拡散しやすい構造へ変換した投稿案を**継続的に供給**できる状態を作る。

### KPI（運用で追う指標例）

| カテゴリ | 指標 |
|--------|------|
| 収集KPI | 媒体別の取得件数／重複率／取得遅延（公開→取得） |
| 候補化KPI | BuzzCandidate生成件数、候補スコア平均、上位候補の的中率（後日実績で検証） |
| 生成KPI | DraftPost生成数、承認率（approved/pending）、却下理由ランキング |
| 運用KPI | レビュー所要時間（平均）、投稿までのリードタイム、投稿あたりのエンゲージメント（いいね/RT/インプレ） |
| リスクKPI | risk_flags高の比率、炎上・誤情報指摘件数（運用ログ） |

---

## 12. 制約条件

### 運用形態（確定）
- MVPは半自動運用：生成案を人が「修正/投稿/却下」
- 自動投稿は実装しない（将来フェーズ）

### 媒体/スコープ
- MVP優先：P0（X、ニュース） + P1（YouTube）
- P2（その他SNS）はコネクタ追加で拡張可能な設計

### 最新性
- 0〜3日以内を基本（将来：0〜2日/当日限定へ設定で切替）

### 生成言語
- 解析：多言語（全言語）
- 生成：日本語

### 権利・規約
- 動画のダウンロード保存はMVPで禁止
- URL参照＋メタデータ＋（可能なら公式字幕/提供可能な文字起こし）に限定
- ニュースはRSS/公式API/規約準拠のフィードに限定（スクレイピングは原則避ける）

### セキュリティ
- レビューUI・管理UIは認証必須（社内運用想定）
- APIキーはSecret Manager管理、アプリへ環境変数注入
- /api/jobs/run はIAM（Cloud Runサービス間認証）または署名トークンで保護

---

## 13. 参考（ベンチマーク）

### 情報収集・トレンド把握
- LunarCrush（SNS由来のトレンド/センチメント）
- Santiment / Glassnode（オンチェーン・センチメントの参考）
- Messari（ニュース・リサーチ）

### 投稿運用・ドラフト管理（UI参考）
- TweetDeck / X Pro（一覧・フィルタ・監視のUX）
- Hypefury / Tweet Hunter（下書き・承認・運用フロー）
- Notion / Airtable（レビュー・ステータス管理の構造）

※GXVISは「投稿の生成」だけでなく、**"バズ候補の発見→勝ちパターン抽出→テンプレ駆動生成→レビュー"**までを統合する点が差別化。
